# =============================================================================
# CONFIGURACIÓN DE PYTEST
# PROYECTO: Arynstal - Sistema CRM
# =============================================================================
#
# Ejecutar tests: pytest
# Con coverage: pytest --cov=apps --cov-report=html
# Solo una app: pytest apps/leads/
# Verbose: pytest -v
#
# =============================================================================

[pytest]
# Módulo de settings de Django para tests
DJANGO_SETTINGS_MODULE = arynstal.settings.development

# Habilitar acceso a la base de datos en tests
python_files = tests.py test_*.py *_test.py

# Directorio raíz de tests
testpaths = apps

# Opciones por defecto
addopts =
    -v
    --tb=short
    --strict-markers
    -ra

# Markers personalizados
markers =
    slow: Tests que tardan más de 1 segundo
    integration: Tests de integración (requieren más setup)
    security: Tests de seguridad

# Filtrar warnings de Django
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
