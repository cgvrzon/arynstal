{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO: Título de la página -->
    <title>{% block title %}Arynstal - Instalaciones y Reformas en Barcelona{% endblock %}</title>

    <!-- SEO: Meta descripción -->
    <meta name="description" content="{% block meta_description %}Arynstal SL - Empresa especializada en instalaciones de aerotermia, aire acondicionado, domótica KNX y reformas integrales en Barcelona y alrededores.{% endblock %}">

    <!-- SEO: Keywords (menos importante hoy, pero no daña) -->
    <meta name="keywords" content="{% block meta_keywords %}instalaciones, reformas, aerotermia, aire acondicionado, domótica, KNX, Barcelona, Hospitalet{% endblock %}">

    <!-- SEO: Autor -->
    <meta name="author" content="Arynstal SL">

    <!-- SEO: Robots -->
    <meta name="robots" content="{% block meta_robots %}index, follow{% endblock %}">

    <!-- SEO: Canonical URL -->
    {% block canonical %}<link rel="canonical" href="{{ request.build_absolute_uri }}">{% endblock %}

    <!-- Open Graph (Facebook, LinkedIn) -->
    <meta property="og:title" content="{% block og_title %}Arynstal - Instalaciones y Reformas{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Especialistas en aerotermia, aire acondicionado, domótica KNX y reformas integrales en Barcelona.{% endblock %}">
    <meta property="og:type" content="{% block og_type %}website{% endblock %}">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:image" content="{% block og_image %}{% static 'img/og-image.jpg' %}{% endblock %}">
    <meta property="og:locale" content="es_ES">
    <meta property="og:site_name" content="Arynstal">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}Arynstal - Instalaciones y Reformas{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}Especialistas en aerotermia, aire acondicionado, domótica KNX y reformas integrales en Barcelona.{% endblock %}">
    <meta name="twitter:image" content="{% block twitter_image %}{% static 'img/og-image.jpg' %}{% endblock %}">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'img/favicon.ico' %}">
    <link rel="apple-touch-icon" href="{% static 'img/apple-touch-icon.png' %}">

    <!-- Tema de color para móviles -->
    <meta name="theme-color" content="#0D3B66">

    <!-- CSS principal (Vite compiled) -->
    <script type="module" crossorigin src="{% static 'assets/index-Ylwmixza.js' %}"></script>
    <link rel="stylesheet" crossorigin href="{% static 'assets/index-9j83Pif2.css' %}">

    <!-- Bloque para CSS/JS adicional de páginas específicas -->
    {% block head %}{% endblock %}
</head>

<body class="flex flex-col min-h-screen bg-[#F2F2F2]">

    <!-- HEADER GLOBAL -->
    {% include 'components/header.html' %}

    <!-- Mensajes flash de Django -->
    {% if messages %}
    <div class="container mx-auto px-4 py-4" role="alert">
        {% for message in messages %}
        <div class="p-4 mb-2 rounded-lg {% if message.tags == 'success' %}bg-green-100 text-green-800{% elif message.tags == 'error' %}bg-red-100 text-red-800{% else %}bg-blue-100 text-blue-800{% endif %}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- CONTENIDO PRINCIPAL -->
    <main class="flex-1">
        {% block content %}{% endblock %}
    </main>

    <!-- FOOTER GLOBAL -->
    {% include 'components/footer.html' %}

    <!-- Banner de consentimiento de cookies (RGPD) -->
    <script src="{% static 'js/cookies.js' %}"></script>

    <!-- Bloque para JS adicional de páginas específicas -->
    {% block extra_js %}{% endblock %}
</body>
</html>
